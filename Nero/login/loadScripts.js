const _0x4ac8ef=_0xd18b;function _0x4646(){const _0x3128c1=['isArray','The\x20value\x20of\x20\x22envConfig\x22\x20must\x20be\x20object','envEvents','stderr','temp','push','\x22\x20already\x20exists\x20in\x20command\x20\x22','LOAD\x20COMMANDS\x20EVENT','envGlobal','no-save','utf8','error','eg.js','command','filter','config\x20of\x20','\x22\x20with\x20file\x20\x22','GoatBot','#f5ab00','utf-8','\x20Installing\x20package\x20','entries','../','exports','LOADED','length','152976CzJOsI','info','category','/node_modules/','commands','name\x20of\x20','onAnyEvent','The\x20value\x20of\x20\x22onLoad\x22\x20must\x20be\x20function','\x20successfully','config','commandEventUnload','onFirstChat','write','1905652XJTTpy','Alias\x20\x22','err','indexOf','\x20failed','startsWith','commandFilesPath','PACKAGE','development','onStart\x20of\x20','3578505fmuBQf','loadScripts','\x20for\x20','alias\x20\x22','\x22\x20duplicate\x20in\x20','data','/scripts/','get','84032TTbNAN','the\x20value\x20of\x20\x22envGlobal\x22\x20must\x20be\x20object','\x20must\x20be\x20a\x20function','includes','commandUnload','eventCommands','set','object','endsWith','.js','red','\x20undefined','save','onEvent','location','event\x20command','name','match','exec','aliases','green','onChat','The\x20value\x20of\x20\x22config.aliases\x22\x20must\x20be\x20array!','has','Can\x27t\x20install\x20package\x20','normalize','LOAD\x20COMMANDS','log','replace','536355kTgcxY','slice','cwd','contentScripts','npm\x20install\x20','path','2684692jjeeVX','utils','yellow','20MlFqLd','split','envCommands','\x22\x20already\x20exists\x20in\x20','cmds','4194MOdpDn','\x20installed\x20package\x20','\x22\x20already\x20exists\x20with\x20file\x20\x22','events','\x0d\x1b[K','join','toLowerCase','category\x20of\x20','5083932XfdUoi','map'];_0x4646=function(){return _0x3128c1;};return _0x4646();}(function(_0x198cf6,_0x1cb79c){const _0x167446=_0xd18b,_0x480a4e=_0x198cf6();while(!![]){try{const _0x419d30=-parseInt(_0x167446(0x140))/0x1+-parseInt(_0x167446(0x146))/0x2+-parseInt(_0x167446(0x11b))/0x3+-parseInt(_0x167446(0x111))/0x4+parseInt(_0x167446(0x149))/0x5*(parseInt(_0x167446(0x104))/0x6)+-parseInt(_0x167446(0xe8))/0x7+-parseInt(_0x167446(0x123))/0x8*(-parseInt(_0x167446(0x14e))/0x9);if(_0x419d30===_0x1cb79c)break;else _0x480a4e['push'](_0x480a4e['shift']());}catch(_0x3cc0cc){_0x480a4e['push'](_0x480a4e['shift']());}}}(_0x4646,0xb06bf));const {readdirSync,readFileSync,writeFileSync,existsSync}=require('fs-extra'),path=require(_0x4ac8ef(0x145)),exec=(_0x1167cb,_0x727b57)=>new Promise((_0x598c53,_0x4ad782)=>{const _0xa1cdd9=_0x4ac8ef;require('child_process')[_0xa1cdd9(0x135)](_0x1167cb,_0x727b57,(_0x1aaf23,_0x31027f)=>{if(_0x1aaf23)return _0x4ad782(_0x1aaf23);_0x598c53(_0x31027f);});}),{log,loading,getText,colors,removeHomeDir}=global[_0x4ac8ef(0x147)],{GoatBot}=global,{configCommands}=GoatBot,regExpCheckPackage=/require(\s+|)\((\s+|)[`'"]([^`'"]+)[`'"](\s+|)\)/g,packageAlready=[],spinner=['⠋','⠙','⠹','⠸','⠼','⠴','⠦','⠧','⠇','⠏'];let count=0x0;function _0xd18b(_0x18fa31,_0x18ba5b){const _0x464675=_0x4646();return _0xd18b=function(_0xd18ba8,_0x4dbc3e){_0xd18ba8=_0xd18ba8-0xe8;let _0x53cbb8=_0x464675[_0xd18ba8];return _0x53cbb8;},_0xd18b(_0x18fa31,_0x18ba5b);}module[_0x4ac8ef(0x101)]=async function(_0x52a092,_0x4db99a,_0x5b5c19,_0x532eb0,_0x56b8a8,_0x1c9464,_0x18077a,_0x1010bf,_0xcda852,_0x4daaec){const _0x47089e=_0x4ac8ef,_0x1817b0=await _0xcda852[_0x47089e(0x122)]('setalias',_0x47089e(0x120),[]);if(_0x1817b0)for(const _0x1351f8 of _0x1817b0){const {aliases:_0x589261,commandName:_0x345cda}=_0x1351f8;for(const _0x7efc24 of _0x589261)if(GoatBot['aliases'][_0x47089e(0x13a)](_0x7efc24))throw new Error(_0x47089e(0x112)+_0x7efc24+_0x47089e(0xf0)+_0x345cda+'\x22');else GoatBot[_0x47089e(0x136)][_0x47089e(0x129)](_0x7efc24,_0x345cda);}const _0x43e526=[_0x47089e(0x14d),_0x47089e(0x151)];let _0x30f272,_0x221f01,_0x5ac6bc;for(const _0x1dd319 of _0x43e526){const _0x5611c4=_0x1dd319==_0x47089e(0x14d)?_0x4daaec(_0x47089e(0x13d)):_0x4daaec(_0x47089e(0xf1));console[_0x47089e(0x13e)](colors['hex'](_0x47089e(0xfc))(_0x5611c4));if(_0x1dd319==_0x47089e(0x14d))_0x30f272=_0x47089e(0xf7),_0x5ac6bc=_0x47089e(0x14b),_0x221f01=_0x47089e(0x108);else _0x1dd319=='events'&&(_0x30f272=_0x47089e(0x132),_0x5ac6bc=_0x47089e(0xec),_0x221f01=_0x47089e(0x128));const _0x5b5ab6=path[_0x47089e(0x13c)](process['cwd']()+(_0x47089e(0x121)+_0x1dd319)),_0x4df0be=readdirSync(_0x5b5ab6)[_0x47089e(0xf8)](_0x3ae7cd=>_0x3ae7cd[_0x47089e(0x12b)](_0x47089e(0x12c))&&!_0x3ae7cd[_0x47089e(0x12b)](_0x47089e(0xf6))&&(process['env']['NODE_ENV']==_0x47089e(0x119)?!![]:!_0x3ae7cd[_0x47089e(0x134)](/(dev)\.js$/g))&&!configCommands[_0x1dd319=='cmds'?_0x47089e(0x127):_0x47089e(0x10e)]?.['includes'](_0x3ae7cd)),_0x58efb7=[];let _0x6cd2d6=0x0;for(const _0xfc8a2f of _0x4df0be){const _0x21160b=path['normalize'](_0x5b5ab6+'/'+_0xfc8a2f);try{const _0x1ed448=readFileSync(_0x21160b,_0x47089e(0xf4));let _0x46fb91=_0x1ed448[_0x47089e(0x134)](regExpCheckPackage);if(_0x46fb91){_0x46fb91=_0x46fb91[_0x47089e(0xe9)](_0x72a486=>_0x72a486[_0x47089e(0x134)](/[`'"]([^`'"]+)[`'"]/)[0x1])[_0x47089e(0xf8)](_0x4f55e1=>_0x4f55e1[_0x47089e(0x114)]('/')!==0x0&&_0x4f55e1[_0x47089e(0x114)]('./')!==0x0&&_0x4f55e1['indexOf'](_0x47089e(0x100))!==0x0&&_0x4f55e1['indexOf'](__dirname)!==0x0);for(let _0x32b404 of _0x46fb91){if(_0x32b404[_0x47089e(0x116)]('@'))_0x32b404=_0x32b404[_0x47089e(0x14a)]('/')[_0x47089e(0x141)](0x0,0x2)[_0x47089e(0x153)]('/');else _0x32b404=_0x32b404[_0x47089e(0x14a)]('/')[0x0];if(!packageAlready[_0x47089e(0x126)](_0x32b404)){packageAlready[_0x47089e(0xef)](_0x32b404);if(!existsSync(process[_0x47089e(0x142)]()+_0x47089e(0x107)+_0x32b404)){const _0x48a2a7=setInterval(()=>{const _0x1698f2=_0x47089e;loading[_0x1698f2(0x105)](_0x1698f2(0x118),spinner[count%spinner[_0x1698f2(0x103)]]+_0x1698f2(0xfe)+colors[_0x1698f2(0x148)](_0x32b404)+_0x1698f2(0x11d)+_0x30f272+'\x20'+colors[_0x1698f2(0x148)](_0xfc8a2f)),count++;},0x50);try{await exec(_0x47089e(0x144)+_0x32b404+'\x20--'+(_0x21160b[_0x47089e(0x12b)]('.dev.js')?_0x47089e(0xf3):_0x47089e(0x12f))),clearInterval(_0x48a2a7),process[_0x47089e(0xed)][_0x47089e(0x110)](_0x47089e(0x152)),console[_0x47089e(0x13e)](colors[_0x47089e(0x137)]('✔')+'\x20installed\x20package\x20'+_0x32b404+_0x47089e(0x10c));}catch(_0x55dc99){clearInterval(_0x48a2a7),process[_0x47089e(0xed)]['write'](_0x47089e(0x152)),console[_0x47089e(0x13e)](colors[_0x47089e(0x12d)]('✖')+_0x47089e(0x14f)+_0x32b404+_0x47089e(0x115));throw new Error(_0x47089e(0x13b)+_0x32b404);}}}}}global[_0x47089e(0xee)][_0x47089e(0x143)][_0x1dd319][_0xfc8a2f]=_0x1ed448;const _0x9deda6=require(_0x21160b);_0x9deda6['location']=_0x21160b;const _0x345fa3=_0x9deda6[_0x47089e(0x10d)],_0x83475e=_0x345fa3[_0x47089e(0x133)];if(!_0x345fa3)throw new Error(_0x47089e(0xf9)+_0x30f272+'\x20undefined');if(!_0x345fa3[_0x47089e(0x106)])throw new Error(_0x47089e(0x155)+_0x30f272+_0x47089e(0x12e));if(!_0x83475e)throw new Error(_0x47089e(0x109)+_0x30f272+_0x47089e(0x12e));if(!_0x9deda6['onStart'])throw new Error(_0x47089e(0x11a)+_0x30f272+'\x20undefined');if(typeof _0x9deda6['onStart']!=='function')throw new Error(_0x47089e(0x11a)+_0x30f272+_0x47089e(0x125));if(GoatBot[_0x221f01][_0x47089e(0x13a)](_0x83475e))throw new Error(_0x30f272+'\x20\x22'+_0x83475e+_0x47089e(0x150)+removeHomeDir(GoatBot[_0x221f01]['get'](_0x83475e)[_0x47089e(0x131)]||'')+'\x22');const {onFirstChat:_0xdd50ff,onChat:_0x288c5a,onLoad:_0x3e3987,onEvent:_0x509280,onAnyEvent:_0x47d95b}=_0x9deda6,{envGlobal:_0x50a171,envConfig:_0x30a2ee}=_0x345fa3,{aliases:_0x530af0}=_0x345fa3,_0x32b76c=[];if(_0x530af0){if(!Array[_0x47089e(0xea)](_0x530af0))throw new Error(_0x47089e(0x139));for(const _0x4ed9dd of _0x530af0){if(_0x530af0['filter'](_0x3b1295=>_0x3b1295==_0x4ed9dd)[_0x47089e(0x103)]>0x1)throw new Error(_0x47089e(0x11e)+_0x4ed9dd+_0x47089e(0x11f)+_0x30f272+'\x20\x22'+_0x83475e+_0x47089e(0xfa)+removeHomeDir(_0x21160b)+'\x22');if(GoatBot['aliases'][_0x47089e(0x13a)](_0x4ed9dd))throw new Error(_0x47089e(0x11e)+_0x4ed9dd+_0x47089e(0x14c)+_0x30f272+'\x20\x22'+GoatBot[_0x47089e(0x136)]['get'](_0x4ed9dd)+_0x47089e(0xfa)+removeHomeDir(GoatBot[_0x221f01][_0x47089e(0x122)](GoatBot['aliases'][_0x47089e(0x122)](_0x4ed9dd))?.['location']||'')+'\x22');_0x32b76c[_0x47089e(0xef)](_0x4ed9dd);}for(const _0xcf6fd4 of _0x32b76c)GoatBot[_0x47089e(0x136)][_0x47089e(0x129)](_0xcf6fd4,_0x83475e);}if(_0x50a171){if(typeof _0x50a171!='object'||typeof _0x50a171==_0x47089e(0x12a)&&Array[_0x47089e(0xea)](_0x50a171))throw new Error(_0x47089e(0x124));for(const _0x318200 in _0x50a171){if(!configCommands[_0x47089e(0xf2)][_0x318200])configCommands[_0x47089e(0xf2)][_0x318200]=_0x50a171[_0x318200];else{const _0x32c251=readFileSync(_0x21160b,_0x47089e(0xfd))[_0x47089e(0x13f)](_0x50a171[_0x318200],configCommands['envGlobal'][_0x318200]);writeFileSync(_0x21160b,_0x32c251);}}}if(_0x30a2ee){if(typeof _0x30a2ee!='object'||typeof _0x30a2ee==_0x47089e(0x12a)&&Array['isArray'](_0x30a2ee))throw new Error(_0x47089e(0xeb));if(!configCommands[_0x5ac6bc])configCommands[_0x5ac6bc]={};if(!configCommands[_0x5ac6bc][_0x83475e])configCommands[_0x5ac6bc][_0x83475e]={};for(const [_0x32765f,_0x28a606]of Object[_0x47089e(0xff)](_0x30a2ee)){if(!configCommands[_0x5ac6bc][_0x83475e][_0x32765f])configCommands[_0x5ac6bc][_0x83475e][_0x32765f]=_0x28a606;else{const _0x2bf69c=readFileSync(_0x21160b,'utf-8')[_0x47089e(0x13f)](_0x28a606,configCommands[_0x5ac6bc][_0x83475e][_0x32765f]);writeFileSync(_0x21160b,_0x2bf69c);}}}if(_0x3e3987){if(typeof _0x3e3987!='function')throw new Error(_0x47089e(0x10b));await _0x3e3987({'api':_0x52a092,'threadModel':_0x4db99a,'userModel':_0x5b5c19,'dashBoardModel':_0x532eb0,'globalModel':_0x56b8a8,'threadsData':_0x1c9464,'usersData':_0x18077a,'dashBoardData':_0x1010bf,'globalData':_0xcda852});}if(_0x288c5a)GoatBot[_0x47089e(0x138)][_0x47089e(0xef)](_0x83475e);if(_0xdd50ff)GoatBot[_0x47089e(0x10f)][_0x47089e(0xef)]({'commandName':_0x83475e,'threadIDsChattedFirstTime':[]});if(_0x509280)GoatBot[_0x47089e(0x130)][_0x47089e(0xef)](_0x83475e);if(_0x47d95b)GoatBot[_0x47089e(0x10a)][_0x47089e(0xef)](_0x83475e);GoatBot[_0x221f01][_0x47089e(0x129)](_0x83475e[_0x47089e(0x154)](),_0x9deda6),_0x6cd2d6++,global[_0x47089e(0xfb)][_0x1dd319==_0x47089e(0x14d)?_0x47089e(0x117):'eventCommandsFilesPath'][_0x47089e(0xef)]({'filePath':path['normalize'](_0x21160b),'commandName':[_0x83475e,..._0x32b76c]});}catch(_0x140628){_0x58efb7['push']({'name':_0xfc8a2f,'error':_0x140628});}loading[_0x47089e(0x105)](_0x47089e(0x102),''+colors['green'](''+_0x6cd2d6)+(_0x58efb7[_0x47089e(0x103)]?',\x20'+colors[_0x47089e(0x12d)](''+_0x58efb7[_0x47089e(0x103)]):''));}console['log']('\x0d');if(_0x58efb7['length']>0x0){log[_0x47089e(0x113)]('LOADED',getText(_0x47089e(0x11c),'loadScriptsError',colors[_0x47089e(0x148)](_0x30f272)));for(const _0x144ea0 of _0x58efb7)console[_0x47089e(0x13e)]('\x20'+colors[_0x47089e(0x12d)]('✖\x20'+_0x144ea0[_0x47089e(0x133)])+':\x20'+_0x144ea0[_0x47089e(0xf5)]['message']+'\x0a',_0x144ea0[_0x47089e(0xf5)]);}}};